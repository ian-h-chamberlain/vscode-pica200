{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Pica200",
  "scopeName": "source.pica200",
  "patterns": [
    {
      "include": "#comment"
    },
    {
      "include": "#directive"
    },
    {
      "include": "#opcode"
    },
    {
      "include": "#label"
    },
    {
      "include": "#register"
    },
    {
      "include": "#constant"
    }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "name": "comment.line.semicolon.pica",
          "match": ";.*$"
        }
      ]
    },
    "directive": {
      "patterns": [
        {
          "name": "keyword.directive.pica",
          "match": "(?<=(^|\\s)[.])(proc|else|end|alias|[fi]vec|bool|const(fa?|i)|in|out|entry|nodevle|gsh|set[fib])\\b"
        }
      ]
    },
    "opcode": {
      "patterns": [
        {
          "name": "keyword.opcode.pica",
          "match": "(?<=(^|\\s))(?<![.])(nop|end|emit|setemit|add|dp[34h]|dst|mul|sge|slt|max|min|ex2|lg2|litp|flr|rcp|rsq|mova?|cmp|call[cu]?|for|breakc?|if[cu]|jmp[cu]|mad)\\b"
        }
      ]
    },
    "label": {
      "patterns": [
        {
          "name": "variable.other.label.pica",
          "match": "^\\s*([a-zA-Z_][a-zA-Z0-9_$]*[:])\\b"
        }
      ]
    },
    "register": {
      "patterns": [
        {
          "name": "variable.parameter.register.pica",
          "match": "\\b([bvor]([0-9]|1[0-5])|c([0-8][0-9]?|9[0-5]?)|i[0-3]|a[0L])\\b"
        }
      ]
    },
    "constant": {
      "patterns": [
        {
          "name": "constant.numeric.float.pica",
          "match": "\\b([0-9]+[.][0-9]+)\\b"
        },
        {
          "name": "constant.numeric.int.pica",
          "match": "\\b([0-9]+)\\b"
        }
      ]
    }
  }
}
